import 'dart:convert';
import 'dart:math' as math;

import 'package:flutter/material.dart';
import 'package:google_fonts/google_fonts.dart';
import 'package:intl/intl.dart';
import 'package:timeago/timeago.dart' as timeago;
import 'lat_lng.dart';
import 'place.dart';
import 'uploaded_file.dart';
import '/backend/schema/structs/index.dart';
import '/backend/supabase/supabase.dart';
import '/auth/supabase_auth/auth_util.dart';

String saudacao() {
  var hour = DateTime.now().hour;
  if (hour < 4) {
    return 'Vai dormir, ';
  }
  if (hour < 12) {
    return 'Bom dia, ';
  }
  if (hour < 17) {
    return 'Boa Tarde, ';
  }
  return 'Boa Noite, ';
}

String imgdeco() {
  // decode image in base64
// Starter code
  String base64Image =
      'data:image/png;base64, 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';

  List<int> bytes = base64.decode(base64Image.split(',').last);
  return String.fromCharCodes(bytes);
}
